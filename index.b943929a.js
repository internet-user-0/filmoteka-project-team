function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i("3QLV5");var o,a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),y=Object.prototype.toString,v=Math.max,h=Math.min,m=function(){return p.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):c.test(e)?NaN:+e}o=function(e,t,n){var r,i,o,a,c,l,s=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,s=t,a=e.apply(o,n)}function y(e){return s=e,c=setTimeout(T,t),u?p(e):a}function _(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-s>=o}function T(){var e=m();if(_(e))return S(e);c=setTimeout(T,function(e){var n=t-(e-l);return f?h(n,o-(e-s)):n}(e))}function S(e){return c=void 0,d&&r?p(e):(r=i=void 0,a)}function L(){var e=m(),n=_(e);if(r=arguments,i=this,l=e,n){if(void 0===c)return y(l);if(f)return c=setTimeout(T,t),p(l)}return void 0===c&&(c=setTimeout(T,t)),a}return t=b(t)||0,g(n)&&(u=!!n.leading,o=(f="maxWait"in n)?v(b(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),L.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=l=i=c=void 0},L.flush=function(){return void 0===c?a:S(m())},L};var _=i("7DkDS"),T=i("2shzp");async function S(e,t){try{return(await T.default.get("https://api.themoviedb.org/3/search/movie?api_key=b972cd435eef10c3549386c0239d193f",{params:{query:e,page:t}})).data.results}catch(e){console.log(e)}}function L(e,t){e.classList.remove("visually-hidden"),t?.classList.add("visually-hidden")}function j(e,t){e.classList.add("visually-hidden"),t?.classList.remove("visually-hidden")}const w={spinner:document.querySelector(".spinner"),iconSearch:document.querySelector(".icon-search"),spinnerGallery:document.querySelector(".js-spinner-gallery")},x=document.forms[0],D=x[1],M=x[2],E=document.querySelector(".hero__list"),O=document.querySelector(".header_main__form__error");O.style.opacity="0",O.style.transition="opacity 0.5s";const k=document.createElement("ul");function q(){L(w.spinnerGallery,w.iconSearch),S(D.value.trim().toLowerCase(),1).then((e=>{if(!e.length)return O.style.opacity="1",setTimeout((()=>$()),3e3),void setTimeout((()=>{j(w.spinnerGallery,w.iconSearch)}),400);setTimeout((()=>{j(w.spinnerGallery,w.iconSearch)}),400),E.innerHTML="",E.insertAdjacentHTML("beforeend",(0,_.createFilmCardMarkap)(e))})).catch((e=>console.log(e)))}function $(e){e.style.opacity="0",e.style.transition="opacity 0.5s"}k.setAttribute("class","search-helper"),x.appendChild(k),D.addEventListener("input",e(o)((function(e){if(e.preventDefault(),!D.value.trim())return void $(k);S(D.value.trim(),1).then((e=>{k.innerHTML=e.map((({title:e,vote_average:t})=>`<li class="search-helper__item">${e}\n        <span class="search-helper__vote">${String(t).padEnd(2,".").padEnd(3,"0")}</span></li>`)).join(""),k.style.opacity="1",k.style.transition="opacity 0.5s"})).catch((e=>console.log(e)))}),500)),M.addEventListener("click",(function(e){e.preventDefault(),k.innerHTML="",D.value.trim()||(O.style.opacity="1",setTimeout((()=>$(O)),2e3));q(),x.reset()})),k.addEventListener("click",(function(e){let t=e.target.textContent.slice(0,-4).trim();D.value=t,q(),$(k),x.reset()}));_=i("7DkDS");var C=(T=i("2shzp")).default;N(1);const G=document.querySelector(".hero__list");function N(e){H(e).then((e=>{G.insertAdjacentHTML("beforeend",(0,_.createFilmCardMarkap)(e))})).catch((e=>console.log(e)))}async function H(e){L(w.spinnerGallery,w.iconSearch);try{const t=await C.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=7b4917c1c89b56950d6ac1f3ef5382d2&page=${e}`);return e+=1,console.log(t.data),console.log(t.data.results),t.data.results}catch(e){console.log(`${e}`)}finally{setTimeout((()=>{j(w.spinnerGallery,w.iconSearch)}),300)}}i("7DkDS"),i("5yuvo");
//# sourceMappingURL=index.b943929a.js.map
