{"mappings":"oeAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,SCEAE,EAAAF,EAAA,SAMAG,eAAeC,EAAgBC,EAAaC,GAC1C,IAOE,aANuBJ,EAAAK,QAAMC,IAJd,qFAI8B,CAC3CC,OAAQ,CACNC,MAAOL,EACPC,KAAMA,MAGMK,KAAKC,O,CACrB,MAAOC,GACPC,QAAQC,IAAIF,E,EDdhB,MAAMG,EAAaC,SAASC,MAAM,GAC5BC,EAAcH,EAAW,GACzBI,EAAeJ,EAAW,GAC1BK,EAAeJ,SAASK,cAAc,eAEtCC,EAAeN,SAASK,cAAc,6BA4C5C,SAASE,IACPD,EAAaE,MAAMC,QAAU,G,CA5C/BH,EAAaE,MAAMC,QAAU,IAC7BH,EAAaE,MAAME,WAAa,eAEhCP,EAAaQ,iBAAiB,SAAUC,IAEtC,GADAA,EAAEC,kBACGX,EAAYY,MAAMC,OAIrB,OAHAT,EAAaE,MAAMC,QAAU,SAC7BO,WAAWT,EAAiB,KAsB9BpB,EAAgBe,EAAYY,MAAMC,OAAQ,GACvCE,MAAKvB,IACJ,IAAKA,EAAKwB,OAGR,OAFAZ,EAAaE,MAAMC,QAAU,SAC7BO,WAAWT,EAAiB,KAG9BH,EAAae,UAAY,GAEzBf,EAAagB,mBAAmB,aAAa,EAAApC,EAAAqC,sBAAqB3B,GAAM,IAEzE4B,OAAM1B,GAASC,QAAQC,IAAIF,KA1B9BG,EAAWwB,OAAO,IAEpBrB,EAAYS,iBAAiB,SAAUC,IACrCA,EAAEC,iBACF1B,EAAgBe,EAAYY,MAAMC,OAAQ,GACvCE,MAAMvB,IACLA,EAAK8B,KAAI,EAACC,MAACA,MACT5B,QAAQC,IAAI2B,EAAM,GAClB,IAGHH,OAAM1B,GAASC,QAAQC,IAAIF,IAAO,I,kCEhCjCN,QAMNoC,IAEA,MAAMC,EAAe3B,SAASK,cAAc,eAE5C,SAASqB,IACPE,EAPS,GAQNX,MAAKY,IACJF,EAAaP,mBACX,aACA,EAAApC,EAAAqC,sBAAqBQ,GACtB,IAEFP,OAAM1B,GAASC,QAAQC,IAAIF,I,CAKhCV,eAAe0C,EAAkBE,GAC/B,IACE,MAAMC,QAAiBC,EAAMzC,IAC3B,iGAA0DuC,KAO5D,OAJAA,GAAQ,EACRjC,QAAQC,IAAIiC,EAASrC,MACrBG,QAAQC,IAAIiC,EAASrC,KAAKC,SAEnBoC,EAASrC,KAAKC,O,CACrB,MAAOC,GACPC,QAAQC,IAAI,GAAGF,I","sources":["src/index.js","src/components/search-movie/search-render.js","src/api.js","src/components/movie-main/movie-main.js"],"sourcesContent":["import './components/trailer/trailer';\n\nimport './components/search-movie/search-render';\nimport './components/movie-main/movie-main';\nimport './components/film-card/film-card-markup';\nimport './components/modal-info/modal';\n","import {createFilmCardMarkap} from '../film-card/film-card-markup';\nimport {getMoviesByName} from \"../../api.js\";\n\n\nconst searchForm = document.forms[0];\nconst searchInput = searchForm[1]\nconst searchButton = searchForm[2]\nconst filmCardList = document.querySelector('.hero__list');\n\nconst errorMessage = document.querySelector('.header_main__form__error')\nerrorMessage.style.opacity = \"0\"\nerrorMessage.style.transition = \"opacity 0.5s\"\n\nsearchButton.addEventListener('click', (e) => {\n  e.preventDefault()\n  if (!searchInput.value.trim()) {\n    errorMessage.style.opacity = \"1\"\n    setTimeout(errorInfoHidden, 3000)\n\n    return\n  }\n\n  getMovie()\n\n  searchForm.reset()\n})\nsearchInput.addEventListener('input', (e) => {\n  e.preventDefault()\n  getMoviesByName(searchInput.value.trim(), 1)\n    .then((data) => {\n      data.map(({title}) => {\n        console.log(title)\n      })\n    })\n\n    .catch(error => console.log(error))\n})\n\nfunction getMovie() {\n  getMoviesByName(searchInput.value.trim(), 1)\n    .then(data => {\n      if (!data.length) {\n        errorMessage.style.opacity = \"1\"\n        setTimeout(errorInfoHidden, 3000)\n        return\n      }\n      filmCardList.innerHTML = ''\n\n      filmCardList.insertAdjacentHTML('beforeend', createFilmCardMarkap(data))\n    })\n    .catch(error => console.log(error));\n}\n\nfunction errorInfoHidden() {\n  errorMessage.style.opacity = \"0\"\n}\n\n","// здесь будут храниться функции для получения значений из бек-енда\n\nimport axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'b972cd435eef10c3549386c0239d193f';\nconst SEARCH_URL = `${BASE_URL}/search/movie?api_key=${API_KEY}`;\n\nasync function getMoviesByName(querySearch, page) {\n  try {\n    const response = await axios.get(SEARCH_URL, {\n      params: {\n        query: querySearch,\n        page: page\n      }\n    });\n    return response.data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport {getMoviesByName}","import API from '../../api';\nimport { createFilmCardMarkap } from '../film-card/film-card-markup';\n\nconst axios = require('axios').default;\n\nconst API_KEY = '7b4917c1c89b56950d6ac1f3ef5382d2';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nlet page = 1;\n\nshowMovie();\n\nconst filmCardList = document.querySelector('.hero__list');\n\nfunction showMovie() {\n  fetchPopularMovie(page)\n    .then(dataArrey => {\n      filmCardList.insertAdjacentHTML(\n        'beforeend',\n        createFilmCardMarkap(dataArrey)\n      );\n    })\n    .catch(error => console.log(error));\n}\n\n// ПОПУЛЯРНЫЕ ФИЛЬМЫ НА ГЛАВНОЙ СТРАНИЦЕ\n\nasync function fetchPopularMovie(page) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n    );\n\n    page += 1;\n    console.log(response.data);\n    console.log(response.data.results);\n\n    return response.data.results;\n  } catch (error) {\n    console.log(`${error}`);\n  }\n}\n\nexport default {showMovie, fetchPopularMovie};"],"names":["parcelRequire","$7DkDS","$2shzp","async","$2107b7db86dec8d6$export$7c7668425a2ab9af","querySearch","page","default","get","params","query","data","results","error","console","log","$b2a6378dcd881cbe$var$searchForm","document","forms","$b2a6378dcd881cbe$var$searchInput","$b2a6378dcd881cbe$var$searchButton","$b2a6378dcd881cbe$var$filmCardList","querySelector","$b2a6378dcd881cbe$var$errorMessage","$b2a6378dcd881cbe$var$errorInfoHidden","style","opacity","transition","addEventListener","e","preventDefault","value","trim","setTimeout","then","length","innerHTML","insertAdjacentHTML","createFilmCardMarkap","catch","reset","map","title","$9a976a7f895f5568$var$showMovie","$9a976a7f895f5568$var$filmCardList","$9a976a7f895f5568$var$fetchPopularMovie","dataArrey","page1","response","$9a976a7f895f5568$require$axios"],"version":3,"file":"index.d04a7405.js.map"}