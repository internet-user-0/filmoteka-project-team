function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("3QLV5");var r,a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),m=Object.prototype.toString,y=Math.max,v=Math.min,h=function(){return p.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var o=l.test(e);return o||s.test(e)?u(e.slice(2),o?2:8):c.test(e)?NaN:+e}r=function(e,t,o){var n,i,r,a,c,l,s=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var o=n,r=i;return n=i=void 0,s=t,a=e.apply(r,o)}function m(e){return s=e,c=setTimeout(T,t),u?p(e):a}function x(e){var o=e-l;return void 0===l||o>=t||o<0||d&&e-s>=r}function T(){var e=h();if(x(e))return w(e);c=setTimeout(T,function(e){var o=t-(e-l);return d?v(o,r-(e-s)):o}(e))}function w(e){return c=void 0,f&&n?p(e):(n=i=void 0,a)}function S(){var e=h(),o=x(e);if(n=arguments,i=this,l=e,o){if(void 0===c)return m(l);if(d)return c=setTimeout(T,t),p(l)}return void 0===c&&(c=setTimeout(T,t)),a}return t=g(t)||0,b(o)&&(u=!!o.leading,r=(d="maxWait"in o)?y(g(o.maxWait)||0,t):r,f="trailing"in o?!!o.trailing:f),S.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=l=i=c=void 0},S.flush=function(){return void 0===c?a:w(h())},S};var x=i("7DkDS"),T=i("2shzp");async function w(e,t){try{return(await T.default.get("https://api.themoviedb.org/3/search/movie?api_key=b972cd435eef10c3549386c0239d193f",{params:{query:e,page:t}})).data.results}catch(e){console.log(e)}}function S(e,t){e.classList.remove("visually-hidden"),t?.classList.add("visually-hidden")}function k(e,t){e.classList.add("visually-hidden"),t?.classList.remove("visually-hidden")}const L={spinner:document.querySelector(".spinner"),iconSearch:document.querySelector(".icon-search"),spinnerGallery:document.querySelector(".js-spinner-gallery")},M=document.forms[0],_=M[1],E=M[2],j=document.querySelector(".hero__list"),C=document.querySelector(".header_main__form__error");C.style.opacity="0",C.style.transition="opacity 0.5s";const D=document.createElement("ul");function N(){S(L.spinnerGallery,L.iconSearch),w(_.value.trim().toLowerCase(),1).then((e=>{if(!e.length)return C.style.opacity="1",setTimeout((()=>O()),3e3),void setTimeout((()=>{k(L.spinnerGallery,L.iconSearch)}),400);setTimeout((()=>{k(L.spinnerGallery,L.iconSearch)}),400),j.innerHTML="",j.insertAdjacentHTML("beforeend",(0,x.createFilmCardMarkap)(e))})).catch((e=>console.log(e))),setTimeout((()=>{k(L.spinnerGallery,L.iconSearch)}),400)}function O(e){e.style.opacity="0",e.style.transition="opacity 0.5s"}D.setAttribute("class","search-helper"),M.appendChild(D),_.addEventListener("input",e(r)((function(e){if(e.preventDefault(),!_.value.trim())return void O(D);w(_.value.trim(),1).then((e=>{D.innerHTML=e.map((({title:e,vote_average:t})=>`<li class="search-helper__item">${e}\n        <span class="search-helper__vote">${String(t).padEnd(2,".").padEnd(3,"0")}</span></li>`)).join(""),D.style.opacity="1",D.style.transition="opacity 0.5s"})).catch((e=>console.log(e)))}),500)),E.addEventListener("click",(function(e){e.preventDefault(),D.innerHTML="",_.value.trim()||(C.style.opacity="1",setTimeout((()=>O(C)),2e3));N(),M.reset()})),D.addEventListener("click",(function(e){let t=e.target.textContent.slice(0,-4).trim();_.value=t,N(),O(D),M.reset()}));x=i("7DkDS");var q=(T=i("2shzp")).default;$(1);const z=document.querySelector(".hero__list");function $(e){G(e).then((e=>{z.insertAdjacentHTML("beforeend",(0,x.createFilmCardMarkap)(e))})).catch((e=>console.log(e)))}async function G(e){S(L.spinnerGallery,L.iconSearch);try{const t=await q.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=7b4917c1c89b56950d6ac1f3ef5382d2&page=${e}`);return e+=1,console.log(t.data),console.log(t.data.results),t.data.results}catch(e){console.log(`${e}`)}finally{setTimeout((()=>{k(L.spinnerGallery,L.iconSearch)}),300)}}i("7DkDS"),i("5yuvo");var H,A,F={};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}H="undefined"!=typeof self?self:void 0,A=function(e){e.addBackToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backgroundColor,o=void 0===t?"#000":t,n=e.cornerOffset,i=void 0===n?20:n,r=e.diameter,a=void 0===r?56:r,c=e.ease,l=void 0===c?F:c,s=e.id,u=void 0===s?"back-to-top":s,d=e.innerHTML,f=void 0===d?'<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>':d,p=e.onClickScrollTo,m=void 0===p?0:p,y=e.scrollContainer,v=void 0===y?document.body:y,h=e.scrollDuration,b=void 0===h?100:h,g=e.showWhenScrollTopIs,x=void 0===g?1:g,T=e.size,w=void 0===T?a:T,S=e.textColor,k=void 0===S?"#fff":S,L=e.zIndex,M=void 0===L?1:L,_=v===document.body,E=_&&document.documentElement;$();var j=z(),C=!0,D=_?window:v;function N(){H()>=x?O():q()}function O(){C&&(j.className="",C=!1)}function q(){C||(j.className="hidden",C=!0)}function z(){var e=document.createElement("div");return e.id=u,e.className="hidden",e.innerHTML=f,e.addEventListener("click",(function(e){e.preventDefault(),G()})),document.body.appendChild(e),e}function $(){var e=Math.round(.43*w),t=Math.round(.29*w),n="#"+u+"{background:"+o+";-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:"+i+"px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:"+k+";cursor:pointer;display:block;height:"+w+"px;opacity:1;outline:0;position:fixed;right:"+i+"px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:"+w+"px;z-index:"+M+"}#"+u+" svg{display:block;fill:currentColor;height:"+e+"px;margin:"+t+"px auto 0;width:"+e+"px}#"+u+".hidden{bottom:-"+w+"px;opacity:0}",r=document.createElement("style");r.appendChild(document.createTextNode(n)),document.head.insertAdjacentElement("afterbegin",r)}function G(){var e="function"==typeof m?m():m,t=window,o=t.performance,n=t.requestAnimationFrame;if(b<=0||void 0===o||void 0===n)return A(e);var i=o.now(),r=H(),a=r-e;n((function e(t){var o=Math.min((t-i)/b,1);A(r-Math.round(l(o)*a)),o<1&&n(e)}))}function H(){return v.scrollTop||E&&document.documentElement.scrollTop||0}function A(e){v.scrollTop=e,E&&(document.documentElement.scrollTop=e)}function F(e){return.5*(1-Math.cos(Math.PI*e))}D.addEventListener("scroll",N),N()}},"function"==typeof define&&define.amd?define(["exports"],A):"object"===I(F)&&"string"!=typeof F.nodeName?A(F):A(H.commonJsStrict={}),(0,F.addBackToTop)({diameter:40,backgroundColor:"#ddd",textColor:"#ff6b08"});
//# sourceMappingURL=index.997488ea.js.map
