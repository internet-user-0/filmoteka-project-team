!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o);var c=o("bpxeT"),i=o("2TvXO");c=o("bpxeT"),i=o("2TvXO"),c=o("bpxeT"),i=o("2TvXO");var r=o("dIxxU"),l="".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("b972cd435eef10c3549386c0239d193f");function s(e,t){return d.apply(this,arguments)}function d(){return(d=e(c)(e(i).mark((function t(n,a){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.default.get(l,{params:{query:n,page:a}});case 3:return o=e.sent,e.abrupt("return",o.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var u=o("idiT7"),m=(r=o("dIxxU")).default,p="7b4917c1c89b56950d6ac1f3ef5382d2",_="https://api.themoviedb.org/3";v();var f=document.querySelector(".hero__list");function v(){h(1).then((function(e){f.insertAdjacentHTML("beforeend",(0,u.createFilmCardMarkap)(e))})).catch((function(e){return console.log(e)}))}function h(e){return b.apply(this,arguments)}function b(){return(b=e(c)(e(i).mark((function t(n){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("".concat(_,"/trending/movie/day?api_key=").concat(p,"&page=").concat(n));case 3:return a=e.sent,n+=1,console.log(a.data),console.log(a.data.results),e.abrupt("return",a.data.results);case 10:e.prev=10,e.t0=e.catch(0),console.log("".concat(e.t0));case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}var y=document.forms[0],g=y[1],L=y[2],x=document.querySelector('div[id="search_error"]');function T(){x.style.opacity="0"}x.style.opacity="0",x.style.transition="opacity 0.5s",L.addEventListener("click",(function(e){if(e.preventDefault(),!g.value.trim())return x.style.opacity="1",void setTimeout(T,3e3);s(g.value.trim(),1).then((function(e){if(!e.length)return x.style.opacity="1",void setTimeout(T,3e3);f.innerHTML="",f.insertAdjacentHTML("beforeend",(0,u.createFilmCardMarkap)(e))})).catch((function(e){return console.log(e)})),y.reset()})),g.addEventListener("input",(function(e){e.preventDefault(),s(g.value.trim(),1).then((function(e){e.map((function(e){var t=e.title;console.log(t)}))})).catch((function(e){return console.log(e)}))})),o("idiT7");c=o("bpxeT"),i=o("2TvXO"),r=o("dIxxU");var w,k=(w=e(c)(e(i).mark((function t(n){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.get("".concat("https://api.themoviedb.org/3","/movie/").concat(n,"?api_key=").concat("b972cd435eef10c3549386c0239d193f"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),t)}))),function(e){return w.apply(this,arguments)}),q=o("9FjBp"),M="https://image.tmdb.org/t/p/w500",E={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal-wrap"),filmList:document.querySelector(".hero__list"),btnClose:document.querySelector(".modal__cross-btn"),body:document.querySelector("body")},O=E.backdrop,H=E.modal,S=E.btnClose,A=E.body;E.filmList.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest("li"),n=t.dataset.action;if(!t)return;k(n).then((function(e){var t,n,a,o,c,i,r,l,s;n=(t=e).popularity,a=t.poster_path,o=t.genres,c=t.overview,i=t.original_title,r=t.vote_average,l=t.vote_count,s='\n            <img class="modal__img" src="'.concat(M).concat(a,'" alt="poster" />\n            <div class="modal__major-container">\n                <h3 class="modal__title">').concat(i,'</h3>\n                <div class="modal__sheet">\n                        <ul class="modal__list">\n                        <li class="modal__item">Vote / Votes</li>\n                        <li class="modal__item">Popularity</li>\n                        <li class="modal__item">Original Title</li>\n                        <li class="modal__item">Genre</li>\n                    </ul>\n                <ul class="modal__list">\n                    <li class="modal__item modal__item--flex modal__item--bold">\n                        <span class="modal__item--vote">').concat(r.toFixed(1),'</span> /\n                        <span class="modal__item--votes">').concat(l,'</span>\n                    </li>\n                    <li class="modal__item modal__item--bold">').concat(n.toFixed(1),'</li>\n                    <li class="modal__item modal__item--bold">').concat(i,'</li>\n                    <li class="modal__item modal__item--bold">').concat((0,q.transformGenresOnModal)(o),'</li>\n                </ul>\n                </div>\n                <div class="modal__about">\n                <p class="modal__about-title">ABOUT</p>\n                <p class="modal__about-descr">').concat(c,'</p>\n                </div>\n                <ul class="modal__btn-container">\n                <li class="modal__btn modal__btn--watched">Add to Watched</li>\n                <li class="modal__btn modal__btn--queue">Add to queue</li>\n                </ul>\n            </div>\n        </div>\n    '),H.insertAdjacentHTML("beforeend",s)})).catch((function(e){return console.log(e)})),O.classList.toggle("is-hidden"),document.addEventListener("keydown",(function e(t){"Escape"===t.code&&(H.innerHTML="",O.classList.add("is-hidden"),A.classList.remove("scroll-hidden"),document.removeEventListener("keydown",e))})),S.addEventListener("click",(function(e){H.innerHTML="",O.classList.add("is-hidden"),A.classList.remove("scroll-hidden")})),O.addEventListener("click",(function(e){e.target===O&&(H.innerHTML="",O.classList.add("is-hidden"),A.classList.remove("scroll-hidden"))})),O.classList.contains("is-hidden")||A.classList.add("scroll-hidden")}))}();
//# sourceMappingURL=index.514a0eea.js.map
