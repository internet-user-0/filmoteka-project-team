var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n),n("3QLV5");var l=n("7DkDS"),a=n("2shzp");async function i(e,t){try{return(await a.default.get("https://api.themoviedb.org/3/search/movie?api_key=b972cd435eef10c3549386c0239d193f",{params:{query:e,page:t}})).data.results}catch(e){console.log(e)}}const s=document.forms[0],d=s[1],c=s[2],r=document.querySelector(".hero__list"),m=document.querySelector(".header_main__form__error");function u(){m.style.opacity="0"}m.style.opacity="0",m.style.transition="opacity 0.5s",c.addEventListener("click",(e=>{if(e.preventDefault(),!d.value.trim())return m.style.opacity="1",void setTimeout(u,3e3);i(d.value.trim(),1).then((e=>{if(!e.length)return m.style.opacity="1",void setTimeout(u,3e3);r.innerHTML="",r.insertAdjacentHTML("beforeend",(0,l.createFilmCardMarkap)(e))})).catch((e=>console.log(e))),s.reset()})),d.addEventListener("input",(e=>{e.preventDefault(),i(d.value.trim(),1).then((e=>{e.map((({title:e})=>{console.log(e)}))})).catch((e=>console.log(e)))}));l=n("7DkDS");var _=(a=n("2shzp")).default;f();const p=document.querySelector(".hero__list");function f(){v(1).then((e=>{p.insertAdjacentHTML("beforeend",(0,l.createFilmCardMarkap)(e))})).catch((e=>console.log(e)))}async function v(e){try{const t=await _.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=7b4917c1c89b56950d6ac1f3ef5382d2&page=${e}`);return e+=1,console.log(t.data),console.log(t.data.results),t.data.results}catch(e){console.log(`${e}`)}}n("7DkDS");a=n("2shzp");const h=async e=>(await a.default.get(`https://api.themoviedb.org/3/movie/${e}?api_key=b972cd435eef10c3549386c0239d193f`)).data;var b=n("gpOoD");const y={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal-wrap"),filmList:document.querySelector(".hero__list"),btnClose:document.querySelector(".modal__cross-btn"),body:document.querySelector("body")},{backdrop:g,modal:L,filmList:k,btnClose:w,body:T}=y;k.addEventListener("click",(function(e){e.preventDefault();const t=e.target.closest("li"),o=t.dataset.action;if(!t)return;h(o).then((e=>{!function({popularity:e,poster_path:t,genres:o,overview:n,original_title:l,vote_average:a,vote_count:i}){const s=`\n            <img class="modal__img" src="https://image.tmdb.org/t/p/w500${t}" alt="poster" />\n            <div class="modal__major-container">\n                <h3 class="modal__title">${l}</h3>\n                <div class="modal__sheet">\n                        <ul class="modal__list">\n                        <li class="modal__item">Vote / Votes</li>\n                        <li class="modal__item">Popularity</li>\n                        <li class="modal__item">Original Title</li>\n                        <li class="modal__item">Genre</li>\n                    </ul>\n                <ul class="modal__list">\n                    <li class="modal__item modal__item--flex modal__item--bold">\n                        <span class="modal__item--vote">${a.toFixed(1)}</span> /\n                        <span class="modal__item--votes">${i}</span>\n                    </li>\n                    <li class="modal__item modal__item--bold">${e.toFixed(1)}</li>\n                    <li class="modal__item modal__item--bold">${l}</li>\n                    <li class="modal__item modal__item--bold">${(0,b.transformGenresOnModal)(o)}</li>\n                </ul>\n                </div>\n                <div class="modal__about">\n                <p class="modal__about-title">ABOUT</p>\n                <p class="modal__about-descr">${n}</p>\n                </div>\n                <ul class="modal__btn-container">\n                  <li>\n                    <button type="button" class="modal__btn modal__btn--watched">Add to Watched</button>\n                  </li>\n                  <li>\n                    <button type="button" class="modal__btn modal__btn--queue">Add to queue</button>\n                  </li>\n                </ul>\n            </div>\n        </div>\n    `;L.insertAdjacentHTML("beforeend",s)}(e)})).catch((e=>console.log(e))),g.classList.toggle("is-hidden"),document.addEventListener("keydown",(function e(t){"Escape"===t.code&&(L.innerHTML="",g.classList.add("is-hidden"),T.classList.remove("scroll-hidden"),document.removeEventListener("keydown",e))})),w.addEventListener("click",(e=>{L.innerHTML="",g.classList.add("is-hidden"),T.classList.remove("scroll-hidden")})),g.addEventListener("click",(e=>{e.target===g&&(L.innerHTML="",g.classList.add("is-hidden"),T.classList.remove("scroll-hidden"))})),g.classList.contains("is-hidden")||T.classList.add("scroll-hidden")}));
//# sourceMappingURL=index.cedf53ed.js.map
