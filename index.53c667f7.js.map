{"mappings":"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","sources":["src/index.js","src/components/search-movie/search-render.js","src/api.js","src/components/spiner/refs.js","src/components/spiner/spiner.js","src/components/movie-main/movie-main.js"],"sourcesContent":["import './components/trailer/trailer';\n\nimport './components/search-movie/search-render';\nimport './components/movie-main/movie-main';\nimport './components/film-card/film-card-markup';\nimport './components/modal-info/modal';\nimport './components/spiner/spiner';\n","import { createFilmCardMarkap } from '../film-card/film-card-markup';\nimport { getMoviesByName } from '../../api.js';\nimport { refs } from '../spiner/refs';\nimport { showSpinner, hideSpinner } from '../spiner/spiner';\n\nconst searchForm = document.forms[0];\nconst searchInput = searchForm[1];\nconst searchButton = searchForm[2];\nconst filmCardList = document.querySelector('.hero__list');\n\nconst errorMessage = document.querySelector('.header_main__form__error');\nerrorMessage.style.opacity = '0';\nerrorMessage.style.transition = 'opacity 0.5s';\n\nsearchButton.addEventListener('click', e => {\n  e.preventDefault();\n  if (!searchInput.value.trim()) {\n    errorMessage.style.opacity = '1';\n    setTimeout(errorInfoHidden, 3000);\n\n    return;\n  }\n\n  getMovie();\n\n  searchForm.reset();\n});\nsearchInput.addEventListener('input', e => {\n  e.preventDefault();\n  getMoviesByName(searchInput.value.trim(), 1)\n    .then(data => {\n      data.map(({ title }) => {\n        console.log(title);\n      });\n    })\n\n    .catch(error => console.log(error));\n});\n\nfunction getMovie() {\n  showSpinner(refs.spinnerGallery, refs.iconSearch);\n  getMoviesByName(searchInput.value.trim(), 1)\n    .then(data => {\n      if (!data.length) {\n        errorMessage.style.opacity = '1';\n        setTimeout(errorInfoHidden, 3000);\n        return;\n      }\n      setTimeout(() => {\n        hideSpinner(refs.spinnerGallery, refs.iconSearch);\n      }, 400);\n      filmCardList.innerHTML = '';\n\n      filmCardList.insertAdjacentHTML('beforeend', createFilmCardMarkap(data));\n    })\n    .catch(error => console.log(error));\n}\n\nfunction errorInfoHidden() {\n  errorMessage.style.opacity = '0';\n}\n","// здесь будут храниться функции для получения значений из бек-енда\n\nimport axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'b972cd435eef10c3549386c0239d193f';\nconst SEARCH_URL = `${BASE_URL}/search/movie?api_key=${API_KEY}`;\n\nasync function getMoviesByName(querySearch, page) {\n  try {\n    const response = await axios.get(SEARCH_URL, {\n      params: {\n        query: querySearch,\n        page: page\n      }\n    });\n    return response.data.results;\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport {getMoviesByName}","export const refs = {\n  spinner: document.querySelector('.spinner'),\n  iconSearch: document.querySelector('.icon-search'),\n  spinnerGallery: document.querySelector('.js-spinner-gallery'),\n};\n","export function showSpinner(spinnerRef, elementRef) {\n  spinnerRef.classList.remove('visually-hidden');\n  elementRef?.classList.add('visually-hidden');\n}\n\nexport function hideSpinner(spinnerRef, elementRef) {\n  spinnerRef.classList.add('visually-hidden');\n  elementRef?.classList.remove('visually-hidden');\n}\n","import API from '../../api';\nimport { createFilmCardMarkap } from '../film-card/film-card-markup';\nimport { refs } from '../spiner/refs';\nimport { showSpinner, hideSpinner } from '../spiner/spiner';\n\nconst axios = require('axios').default;\n\nconst API_KEY = '7b4917c1c89b56950d6ac1f3ef5382d2';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nlet page = 1;\n\nshowMovie(page);\n\nconst filmCardList = document.querySelector('.hero__list');\n\nfunction showMovie(page) {\n  fetchPopularMovie(page)\n    .then(dataArrey => {\n      filmCardList.insertAdjacentHTML(\n        'beforeend',\n        createFilmCardMarkap(dataArrey)\n      );\n    })\n    .catch(error => console.log(error));\n}\n\n// ПОПУЛЯРНЫЕ ФИЛЬМЫ НА ГЛАВНОЙ СТРАНИЦЕ\n\nasync function fetchPopularMovie(page) {\n  showSpinner(refs.spinnerGallery, refs.iconSearch);\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n    );\n\n    page += 1;\n    console.log(response.data);\n    console.log(response.data.results);\n\n    return response.data.results;\n  } catch (error) {\n    console.log(`${error}`);\n  } finally {\n    setTimeout(() => {\n      hideSpinner(refs.spinnerGallery, refs.iconSearch);\n    }, 300);\n  }\n}\n\nexport default { showMovie, fetchPopularMovie };\n"],"names":["parcelRequire","$idiT7","$bpxeT","$2f5c62d89cd5eff1$var$SEARCH_URL","concat","$2f5c62d89cd5eff1$export$7c7668425a2ab9af","querySearch","page","$2f5c62d89cd5eff1$var$_getMoviesByName","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","default","get","params","query","_ctx","sent","data","results","console","log","t0","$535012bf94c5bdad$export$21666b427502ea6d","spinner","document","querySelector","iconSearch","spinnerGallery","$38d96d37944c33d2$export$2a7a135fa1ec651f","spinnerRef","elementRef","classList","remove","add","$38d96d37944c33d2$export$95fec50f68454318","$8fdd9f22c3a03a06$var$searchForm","forms","$8fdd9f22c3a03a06$var$searchInput","$8fdd9f22c3a03a06$var$searchButton","$8fdd9f22c3a03a06$var$filmCardList","$8fdd9f22c3a03a06$var$errorMessage","$8fdd9f22c3a03a06$var$errorInfoHidden","style","opacity","transition","addEventListener","e","preventDefault","value","trim","setTimeout","then","length","innerHTML","insertAdjacentHTML","createFilmCardMarkap","catch","error","reset","map","param","title","$4e5ec98397759679$var$API_KEY","$4e5ec98397759679$var$BASE_URL","$4e5ec98397759679$var$showMovie","$4e5ec98397759679$var$filmCardList","page1","$4e5ec98397759679$var$fetchPopularMovie","dataArrey","page2","$4e5ec98397759679$var$_fetchPopularMovie","$4e5ec98397759679$require$axios"],"version":3,"file":"index.53c667f7.js.map"}