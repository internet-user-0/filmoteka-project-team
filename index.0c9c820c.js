var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},l=e.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in o){var l=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,l.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},e.parcelRequired7c6=l);var a=l("2shzp");async function n(e,t){try{return(await a.default.get("https://api.themoviedb.org/3/search/movie?api_key=b972cd435eef10c3549386c0239d193f",{params:{query:e,page:t}})).data.results}catch(e){console.log(e)}}var i=l("7DkDS"),s=(a=l("2shzp")).default;c();const d=document.querySelector(".hero__list");function c(){r(1).then((e=>{d.insertAdjacentHTML("beforeend",(0,i.createFilmCardMarkap)(e))})).catch((e=>console.log(e)))}async function r(e){try{const t=await s.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=7b4917c1c89b56950d6ac1f3ef5382d2&page=${e}`);return e+=1,console.log(t.data),console.log(t.data.results),t.data.results}catch(e){console.log(`${e}`)}}const m=document.forms[0],_=m[1],u=m[2],p=document.querySelector('div[id="search_error"]');function v(){p.style.opacity="0"}p.style.opacity="0",p.style.transition="opacity 0.5s",u.addEventListener("click",(e=>{if(e.preventDefault(),!_.value.trim())return p.style.opacity="1",void setTimeout(v,3e3);n(_.value.trim(),1).then((e=>{if(!e.length)return p.style.opacity="1",void setTimeout(v,3e3);d.innerHTML="",d.insertAdjacentHTML("beforeend",(0,i.createFilmCardMarkap)(e))})).catch((e=>console.log(e))),m.reset()})),_.addEventListener("input",(e=>{e.preventDefault(),n(_.value.trim(),1).then((e=>{e.map((({title:e})=>{console.log(e)}))})).catch((e=>console.log(e)))})),l("7DkDS");a=l("2shzp");const f=async e=>(await a.default.get(`https://api.themoviedb.org/3/movie/${e}?api_key=b972cd435eef10c3549386c0239d193f`)).data;var h=l("gpOoD");const y={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal-wrap"),filmList:document.querySelector(".hero__list"),btnClose:document.querySelector(".modal__cross-btn"),body:document.querySelector("body")},{backdrop:g,modal:b,filmList:L,btnClose:k,body:w}=y;L.addEventListener("click",(function(e){e.preventDefault();const t=e.target.closest("li"),o=t.dataset.action;if(!t)return;f(o).then((e=>{!function({popularity:e,poster_path:t,genres:o,overview:l,original_title:a,vote_average:n,vote_count:i}){const s=`\n            <img class="modal__img" src="https://image.tmdb.org/t/p/w500${t}" alt="poster" />\n            <div class="modal__major-container">\n                <h3 class="modal__title">${a}</h3>\n                <div class="modal__sheet">\n                        <ul class="modal__list">\n                        <li class="modal__item">Vote / Votes</li>\n                        <li class="modal__item">Popularity</li>\n                        <li class="modal__item">Original Title</li>\n                        <li class="modal__item">Genre</li>\n                    </ul>\n                <ul class="modal__list">\n                    <li class="modal__item modal__item--flex modal__item--bold">\n                        <span class="modal__item--vote">${n.toFixed(1)}</span> /\n                        <span class="modal__item--votes">${i}</span>\n                    </li>\n                    <li class="modal__item modal__item--bold">${e.toFixed(1)}</li>\n                    <li class="modal__item modal__item--bold">${a}</li>\n                    <li class="modal__item modal__item--bold">${(0,h.transformGenresOnModal)(o)}</li>\n                </ul>\n                </div>\n                <div class="modal__about">\n                <p class="modal__about-title">ABOUT</p>\n                <p class="modal__about-descr">${l}</p>\n                </div>\n                <ul class="modal__btn-container">\n                <li class="modal__btn modal__btn--watched">Add to Watched</li>\n                <li class="modal__btn modal__btn--queue">Add to queue</li>\n                </ul>\n            </div>\n        </div>\n    `;b.insertAdjacentHTML("beforeend",s)}(e)})).catch((e=>console.log(e))),g.classList.toggle("is-hidden"),document.addEventListener("keydown",(function e(t){"Escape"===t.code&&(b.innerHTML="",g.classList.add("is-hidden"),w.classList.remove("scroll-hidden"),document.removeEventListener("keydown",e))})),k.addEventListener("click",(e=>{b.innerHTML="",g.classList.add("is-hidden"),w.classList.remove("scroll-hidden")})),g.addEventListener("click",(e=>{e.target===g&&(b.innerHTML="",g.classList.add("is-hidden"),w.classList.remove("scroll-hidden"))})),g.classList.contains("is-hidden")||w.classList.add("scroll-hidden")}));
//# sourceMappingURL=index.0c9c820c.js.map
