!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={},r={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=i),i("1oUik");var o=i("l5bVx"),a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),v=Object.prototype.toString,y=Math.max,h=Math.min,m=function(){return p.Date.now()};function b(e){var n=void 0===e?"undefined":t(o)(e);return!!e&&("object"==n||"function"==n)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":t(o)(e))||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}(e))return NaN;if(b(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=b(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=s.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):c.test(e)?NaN:+e}var _=i("idiT7"),x=i("bpxeT"),T=i("2TvXO"),j=i("dIxxU"),L="".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("b972cd435eef10c3549386c0239d193f");function S(e,t){return w.apply(this,arguments)}function w(){return(w=t(x)(t(T).mark((function e(n,r){var i;return t(T).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.default.get(L,{params:{query:n,page:r}});case 3:return i=e.sent,e.abrupt("return",i.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var O=document.forms[0],M=O[1],k=O[2],q=document.querySelector(".hero__list"),E=document.querySelector(".header_main__form__error");E.style.opacity="0",E.style.transition="opacity 0.5s";var C=document.createElement("ul");function N(){S(M.value.trim().toLowerCase(),1).then((function(e){if(e.length)setTimeout((function(){hideSpinner(refs.spinnerGallery,refs.iconSearch)}),400),q.innerHTML="",q.insertAdjacentHTML("beforeend",(0,_.createFilmCardMarkap)(e));else{E.style.opacity="1";var t=D(E);setTimeout(t,3e3)}})).catch((function(e){return console.log(e)}))}function D(e){e.style.opacity="0",e.style.transition="opacity 0.5s"}C.setAttribute("class","search-helper"),O.appendChild(C),M.addEventListener("input",(function(e){e.preventDefault(),M.value.trim()||D(C);S(M.value.trim(),1).then((function(e){C.innerHTML=e.map((function(e){var t=e.title,n=e.vote_average;return'<li class="search-helper__item">\n               '.concat(t,'\n                 <span class="search-helper__vote">').concat(String(n).padEnd(2,".").padEnd(3,"0"),"</span></li>")})).join(""),C.style.opacity="1",C.style.transition="opacity 0.5s"})).catch((function(e){return console.log(e)}))})),k.addEventListener("click",(function(e){e.preventDefault(),C.innerHTML="",M.value.trim()||(E.style.opacity="1",setTimeout((function(){return D(E)}),2e3));N(),O.reset()})),C.addEventListener("click",(function(e){var t=e.target.textContent.slice(0,-4).trim();M.value=t,N(),D(C),O.reset()}));x=i("bpxeT"),T=i("2TvXO"),_=i("idiT7");var H={spinner:document.querySelector(".spinner"),iconSearch:document.querySelector(".icon-search"),spinnerGallery:document.querySelector(".js-spinner-gallery")};function U(e,t){e.classList.remove("visually-hidden"),null==t||t.classList.add("visually-hidden")}function F(e,t){e.classList.add("visually-hidden"),null==t||t.classList.remove("visually-hidden")}var G=(j=i("dIxxU")).default,$="7b4917c1c89b56950d6ac1f3ef5382d2",A="https://api.themoviedb.org/3";R(1);var I=document.querySelector(".hero__list");function R(e){X(e).then((function(e){I.insertAdjacentHTML("beforeend",(0,_.createFilmCardMarkap)(e))})).catch((function(e){return console.log(e)}))}function X(e){return V.apply(this,arguments)}function V(){return(V=t(x)(t(T).mark((function e(n){var r;return t(T).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(H.spinnerGallery,H.iconSearch),e.prev=1,e.next=4,G.get("".concat(A,"/trending/movie/day?api_key=").concat($,"&page=").concat(n));case 4:return r=e.sent,n+=1,console.log(r.data),console.log(r.data.results),e.abrupt("return",r.data.results);case 11:e.prev=11,e.t0=e.catch(1),console.log("".concat(e.t0));case 14:return e.prev=14,setTimeout((function(){F(H.spinnerGallery,H.iconSearch)}),300),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}i("idiT7"),i("dd54g")}();
//# sourceMappingURL=index.93a95cbb.js.map
