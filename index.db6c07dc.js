!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a("1oUik");var i=a("idiT7"),c=a("bpxeT"),r=a("2TvXO"),l=a("dIxxU"),s="".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("b972cd435eef10c3549386c0239d193f");function d(e,t){return u.apply(this,arguments)}function u(){return(u=e(c)(e(r).mark((function t(n,o){var a;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.default.get(s,{params:{query:n,page:o}});case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var m=document.forms[0],p=m[1],_=m[2],f=document.querySelector(".hero__list"),v=document.querySelector(".header_main__form__error");function h(){v.style.opacity="0"}v.style.opacity="0",v.style.transition="opacity 0.5s",_.addEventListener("click",(function(e){if(e.preventDefault(),!p.value.trim())return v.style.opacity="1",void setTimeout(h,3e3);d(p.value.trim(),1).then((function(e){if(!e.length)return v.style.opacity="1",void setTimeout(h,3e3);f.innerHTML="",f.insertAdjacentHTML("beforeend",(0,i.createFilmCardMarkap)(e))})).catch((function(e){return console.log(e)})),m.reset()})),p.addEventListener("input",(function(e){e.preventDefault(),d(p.value.trim(),1).then((function(e){e.map((function(e){var t=e.title;console.log(t)}))})).catch((function(e){return console.log(e)}))}));c=a("bpxeT"),r=a("2TvXO"),i=a("idiT7");var b=(l=a("dIxxU")).default,y="7b4917c1c89b56950d6ac1f3ef5382d2",g="https://api.themoviedb.org/3";x();var L=document.querySelector(".hero__list");function x(){T(1).then((function(e){L.insertAdjacentHTML("beforeend",(0,i.createFilmCardMarkap)(e))})).catch((function(e){return console.log(e)}))}function T(e){return k.apply(this,arguments)}function k(){return(k=e(c)(e(r).mark((function t(n){var o;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("".concat(g,"/trending/movie/day?api_key=").concat(y,"&page=").concat(n));case 3:return o=e.sent,n+=1,console.log(o.data),console.log(o.data.results),e.abrupt("return",o.data.results);case 10:e.prev=10,e.t0=e.catch(0),console.log("".concat(e.t0));case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}a("idiT7");c=a("bpxeT"),r=a("2TvXO"),l=a("dIxxU");var w,q=(w=e(c)(e(r).mark((function t(n){var o;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get("".concat("https://api.themoviedb.org/3","/movie/").concat(n,"?api_key=").concat("b972cd435eef10c3549386c0239d193f"));case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),t)}))),function(e){return w.apply(this,arguments)}),M=a("9FjBp"),E="https://image.tmdb.org/t/p/w500",O={backdrop:document.querySelector(".backdrop"),modal:document.querySelector(".modal-wrap"),filmList:document.querySelector(".hero__list"),btnClose:document.querySelector(".modal__cross-btn"),body:document.querySelector("body")},S=O.backdrop,H=O.modal,U=O.btnClose,A=O.body;O.filmList.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest("li"),n=t.dataset.action;if(!t)return;q(n).then((function(e){var t,n,o,a,i,c,r,l,s;n=(t=e).popularity,o=t.poster_path,a=t.genres,i=t.overview,c=t.original_title,r=t.vote_average,l=t.vote_count,s='\n            <img class="modal__img" src="'.concat(E).concat(o,'" alt="poster" />\n            <div class="modal__major-container">\n                <h3 class="modal__title">').concat(c,'</h3>\n                <div class="modal__sheet">\n                        <ul class="modal__list">\n                        <li class="modal__item">Vote / Votes</li>\n                        <li class="modal__item">Popularity</li>\n                        <li class="modal__item">Original Title</li>\n                        <li class="modal__item">Genre</li>\n                    </ul>\n                <ul class="modal__list">\n                    <li class="modal__item modal__item--flex modal__item--bold">\n                        <span class="modal__item--vote">').concat(r.toFixed(1),'</span> /\n                        <span class="modal__item--votes">').concat(l,'</span>\n                    </li>\n                    <li class="modal__item modal__item--bold">').concat(n.toFixed(1),'</li>\n                    <li class="modal__item modal__item--bold">').concat(c,'</li>\n                    <li class="modal__item modal__item--bold">').concat((0,M.transformGenresOnModal)(a),'</li>\n                </ul>\n                </div>\n                <div class="modal__about">\n                <p class="modal__about-title">ABOUT</p>\n                <p class="modal__about-descr">').concat(i,'</p>\n                </div>\n                <ul class="modal__btn-container">\n                <li class="modal__btn modal__btn--watched">Add to Watched</li>\n                <li class="modal__btn modal__btn--queue">Add to queue</li>\n                </ul>\n            </div>\n        </div>\n    '),H.insertAdjacentHTML("beforeend",s)})).catch((function(e){return console.log(e)})),S.classList.toggle("is-hidden"),document.addEventListener("keydown",(function e(t){"Escape"===t.code&&(H.innerHTML="",S.classList.add("is-hidden"),A.classList.remove("scroll-hidden"),document.removeEventListener("keydown",e))})),U.addEventListener("click",(function(e){H.innerHTML="",S.classList.add("is-hidden"),A.classList.remove("scroll-hidden")})),S.addEventListener("click",(function(e){e.target===S&&(H.innerHTML="",S.classList.add("is-hidden"),A.classList.remove("scroll-hidden"))})),S.classList.contains("is-hidden")||A.classList.add("scroll-hidden")}))}();
//# sourceMappingURL=index.db6c07dc.js.map
